\hypertarget{namespacego__to__point__action}{}\doxysection{go\+\_\+to\+\_\+point\+\_\+action Namespace Reference}
\label{namespacego__to__point__action}\index{go\_to\_point\_action@{go\_to\_point\_action}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{namespacego__to__point__action_affe1389e38557b69ee71adea85b846b2}{clbk\+\_\+odom}} (msg)
\begin{DoxyCompactList}\small\item\em The clbk\+\_\+odom function. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacego__to__point__action_ab7ad2629ed9ffbd5d9b7ca9c540d932a}{change\+\_\+state}} (state)
\begin{DoxyCompactList}\small\item\em The change\+\_\+state function. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacego__to__point__action_a0bca87c6d45ca63d3152a4e8def72e2a}{normalize\+\_\+angle}} (angle)
\begin{DoxyCompactList}\small\item\em The normalize\+\_\+angle function. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacego__to__point__action_a18e7fef09d30f59bb91061f4b91f87e6}{fix\+\_\+yaw}} (des\+\_\+pos)
\begin{DoxyCompactList}\small\item\em The fix\+\_\+yah function. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacego__to__point__action_a7c35034eab524fbff7d05d80fd65ede4}{go\+\_\+straight\+\_\+ahead}} (des\+\_\+pos)
\begin{DoxyCompactList}\small\item\em The go\+\_\+straight\+\_\+ahead function. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacego__to__point__action_a068188471dd5fc0ed3ea371e3a32338a}{fix\+\_\+final\+\_\+yaw}} (des\+\_\+yaw)
\begin{DoxyCompactList}\small\item\em The fix\+\_\+final\+\_\+yah function. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacego__to__point__action_a9fec1cd57aebd720828b5bab962048db}{done}} ()
\begin{DoxyCompactList}\small\item\em The done function. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacego__to__point__action_ab3bc8cf3239eaa0def69f3a87a98976c}{planning}} (goal)
\begin{DoxyCompactList}\small\item\em The planning function. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacego__to__point__action_a33cfc08b34e07f53ddda67d2ab551ba1}{main}} ()
\begin{DoxyCompactList}\small\item\em Documentation for the main function. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{namespacego__to__point__action_afd83e8a50982500cb1aea028fa6bd8fb}\label{namespacego__to__point__action_afd83e8a50982500cb1aea028fa6bd8fb}} 
{\bfseries position\+\_\+} = Point()
\item 
\mbox{\Hypertarget{namespacego__to__point__action_a7e81c61a8a01745a08f175577455bcb4}\label{namespacego__to__point__action_a7e81c61a8a01745a08f175577455bcb4}} 
int {\bfseries yaw\+\_\+} = 0
\item 
\mbox{\Hypertarget{namespacego__to__point__action_a513d83133bce80caeaf1f02289d6c12b}\label{namespacego__to__point__action_a513d83133bce80caeaf1f02289d6c12b}} 
int {\bfseries state\+\_\+} = 0
\item 
\mbox{\Hypertarget{namespacego__to__point__action_a6d09e37099932459bc3e4146007cce86}\label{namespacego__to__point__action_a6d09e37099932459bc3e4146007cce86}} 
{\bfseries pub\+\_\+} = None
\item 
\mbox{\Hypertarget{namespacego__to__point__action_a99d0c1c8c5e359fcd5f1901e25a86a2d}\label{namespacego__to__point__action_a99d0c1c8c5e359fcd5f1901e25a86a2d}} 
int {\bfseries yaw\+\_\+precision\+\_\+} = math.\+pi / 9
\item 
\mbox{\Hypertarget{namespacego__to__point__action_aeaede468f4753c2c476474b35b81754c}\label{namespacego__to__point__action_aeaede468f4753c2c476474b35b81754c}} 
int {\bfseries yaw\+\_\+precision\+\_\+2\+\_\+} = math.\+pi / 90
\item 
\mbox{\Hypertarget{namespacego__to__point__action_a01a3cd0c013f3c1712758e04b4bc91f4}\label{namespacego__to__point__action_a01a3cd0c013f3c1712758e04b4bc91f4}} 
float {\bfseries dist\+\_\+precision\+\_\+} = 0.\+1
\item 
\mbox{\Hypertarget{namespacego__to__point__action_a67a9de26fa4f88312f9cc4a8ecedb369}\label{namespacego__to__point__action_a67a9de26fa4f88312f9cc4a8ecedb369}} 
float {\bfseries kp\+\_\+a} = -\/3.\+0
\item 
\mbox{\Hypertarget{namespacego__to__point__action_acd565e807f177f678d6a12d504d01e60}\label{namespacego__to__point__action_acd565e807f177f678d6a12d504d01e60}} 
float {\bfseries kp\+\_\+d} = 0.\+2
\item 
\mbox{\Hypertarget{namespacego__to__point__action_a9cb07d74a9d8087eb04da488c77c118c}\label{namespacego__to__point__action_a9cb07d74a9d8087eb04da488c77c118c}} 
float {\bfseries ub\+\_\+a} = 0.\+6
\item 
\mbox{\Hypertarget{namespacego__to__point__action_a156fcdad5d5c28042b46d45d323a9fac}\label{namespacego__to__point__action_a156fcdad5d5c28042b46d45d323a9fac}} 
float {\bfseries lb\+\_\+a} = -\/0.\+5
\item 
\mbox{\Hypertarget{namespacego__to__point__action_a05a9d1a5cc9bd5e985d6ad5247ac985d}\label{namespacego__to__point__action_a05a9d1a5cc9bd5e985d6ad5247ac985d}} 
float {\bfseries ub\+\_\+d} = 0.\+6
\item 
\mbox{\Hypertarget{namespacego__to__point__action_a3994b1577d1a499ce8c7352036ee6486}\label{namespacego__to__point__action_a3994b1577d1a499ce8c7352036ee6486}} 
{\bfseries act\+\_\+s} = None
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}.. module:: go_to_point_action
   :platform: Unix
   :synopsis: Python module for piloting the robot to the target

.. moduleauthor:: Carmine Recchiuto <carmine.recchiuto@dibris.unige.it>

ROS node for driving a robot to a specific point

Subscribes to:
    /odom topic where the simulator publishes the robot position

Publishes to:
    /cmd_vel the desired robot position

Service :
    /go_to_point to start the robot motion.
\end{DoxyVerb}
 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacego__to__point__action_ab7ad2629ed9ffbd5d9b7ca9c540d932a}\label{namespacego__to__point__action_ab7ad2629ed9ffbd5d9b7ca9c540d932a}} 
\index{go\_to\_point\_action@{go\_to\_point\_action}!change\_state@{change\_state}}
\index{change\_state@{change\_state}!go\_to\_point\_action@{go\_to\_point\_action}}
\doxysubsubsection{\texorpdfstring{change\_state()}{change\_state()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point\+\_\+action.\+change\+\_\+state (\begin{DoxyParamCaption}\item[{}]{state }\end{DoxyParamCaption})}



The change\+\_\+state function. 

It controls the state of the robot, allowing to translate or to rotate when needed. \begin{DoxyVerb}It controls the state of the robot, allowing to translate or to rotate when needed.

Args:
    state: state of the robot

Returns: none
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacego__to__point__action_affe1389e38557b69ee71adea85b846b2}\label{namespacego__to__point__action_affe1389e38557b69ee71adea85b846b2}} 
\index{go\_to\_point\_action@{go\_to\_point\_action}!clbk\_odom@{clbk\_odom}}
\index{clbk\_odom@{clbk\_odom}!go\_to\_point\_action@{go\_to\_point\_action}}
\doxysubsubsection{\texorpdfstring{clbk\_odom()}{clbk\_odom()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point\+\_\+action.\+clbk\+\_\+odom (\begin{DoxyParamCaption}\item[{}]{msg }\end{DoxyParamCaption})}



The clbk\+\_\+odom function. 

This Callback is for the subscriber to topic odom it keeps track of the robot pose.

\begin{DoxyItemize}
\item msg the message carrying the information \begin{DoxyVerb}This Callback is for the subscriber to topic odom. It keeps track of the robot pose.

Args:
    msg(Odometry): the message received
Returns: none
\end{DoxyVerb}
 \end{DoxyItemize}
\mbox{\Hypertarget{namespacego__to__point__action_a9fec1cd57aebd720828b5bab962048db}\label{namespacego__to__point__action_a9fec1cd57aebd720828b5bab962048db}} 
\index{go\_to\_point\_action@{go\_to\_point\_action}!done@{done}}
\index{done@{done}!go\_to\_point\_action@{go\_to\_point\_action}}
\doxysubsubsection{\texorpdfstring{done()}{done()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point\+\_\+action.\+done (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



The done function. 

It stops the robot meaning that the pose has been reached \begin{DoxyVerb}Calling this function, the robot will stop

Args: none
Returns: none
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacego__to__point__action_a068188471dd5fc0ed3ea371e3a32338a}\label{namespacego__to__point__action_a068188471dd5fc0ed3ea371e3a32338a}} 
\index{go\_to\_point\_action@{go\_to\_point\_action}!fix\_final\_yaw@{fix\_final\_yaw}}
\index{fix\_final\_yaw@{fix\_final\_yaw}!go\_to\_point\_action@{go\_to\_point\_action}}
\doxysubsubsection{\texorpdfstring{fix\_final\_yaw()}{fix\_final\_yaw()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point\+\_\+action.\+fix\+\_\+final\+\_\+yaw (\begin{DoxyParamCaption}\item[{}]{des\+\_\+yaw }\end{DoxyParamCaption})}



The fix\+\_\+final\+\_\+yah function. 

It allows the robot to fix it\textquotesingle{}s yah and reach the final state(done) if the conditions are met \begin{DoxyVerb}Function for fixing the final angle of the robot, to the final position

Args:
    des_yaw(float): the desiderd yaw
Returns: none
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacego__to__point__action_a18e7fef09d30f59bb91061f4b91f87e6}\label{namespacego__to__point__action_a18e7fef09d30f59bb91061f4b91f87e6}} 
\index{go\_to\_point\_action@{go\_to\_point\_action}!fix\_yaw@{fix\_yaw}}
\index{fix\_yaw@{fix\_yaw}!go\_to\_point\_action@{go\_to\_point\_action}}
\doxysubsubsection{\texorpdfstring{fix\_yaw()}{fix\_yaw()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point\+\_\+action.\+fix\+\_\+yaw (\begin{DoxyParamCaption}\item[{}]{des\+\_\+pos }\end{DoxyParamCaption})}



The fix\+\_\+yah function. 

It rotates the robot to fix it\textquotesingle{}s yah in the desired direction by publishing a twist message on /cmd\+\_\+vel 
\begin{DoxyParams}{Parameters}
{\em des\+\_\+pos} & from this desired position computes the desired yah \begin{DoxyVerb}Function for fixing the angle of the robot.
It rotates the robot to fix it's yah in the desired direction by publishing a twist message on /cmd_vel

Args:
    des_pos(Point): the desiderd pose
Returns: none
\end{DoxyVerb}
 \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{namespacego__to__point__action_a7c35034eab524fbff7d05d80fd65ede4}\label{namespacego__to__point__action_a7c35034eab524fbff7d05d80fd65ede4}} 
\index{go\_to\_point\_action@{go\_to\_point\_action}!go\_straight\_ahead@{go\_straight\_ahead}}
\index{go\_straight\_ahead@{go\_straight\_ahead}!go\_to\_point\_action@{go\_to\_point\_action}}
\doxysubsubsection{\texorpdfstring{go\_straight\_ahead()}{go\_straight\_ahead()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point\+\_\+action.\+go\+\_\+straight\+\_\+ahead (\begin{DoxyParamCaption}\item[{}]{des\+\_\+pos }\end{DoxyParamCaption})}



The go\+\_\+straight\+\_\+ahead function. 

It allows the robot to go straight or to change it\textquotesingle{}s state if needed \begin{DoxyVerb}Function for going straight ahead to the target.

Args:
    des_pos(Point): the desiderd pose
Returns: none
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacego__to__point__action_a33cfc08b34e07f53ddda67d2ab551ba1}\label{namespacego__to__point__action_a33cfc08b34e07f53ddda67d2ab551ba1}} 
\index{go\_to\_point\_action@{go\_to\_point\_action}!main@{main}}
\index{main@{main}!go\_to\_point\_action@{go\_to\_point\_action}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point\+\_\+action.\+main (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Documentation for the main function. 

More details.


\begin{DoxyParams}{Parameters}
{\em None} & \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{namespacego__to__point__action_a0bca87c6d45ca63d3152a4e8def72e2a}\label{namespacego__to__point__action_a0bca87c6d45ca63d3152a4e8def72e2a}} 
\index{go\_to\_point\_action@{go\_to\_point\_action}!normalize\_angle@{normalize\_angle}}
\index{normalize\_angle@{normalize\_angle}!go\_to\_point\_action@{go\_to\_point\_action}}
\doxysubsubsection{\texorpdfstring{normalize\_angle()}{normalize\_angle()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point\+\_\+action.\+normalize\+\_\+angle (\begin{DoxyParamCaption}\item[{}]{angle }\end{DoxyParamCaption})}



The normalize\+\_\+angle function. 

It performs normalazation of an angle . \begin{DoxyVerb}Function for normalizing the angle between -pi and pi.

Args:
    angle(Float): the input angle
Returns:angle(Float):
    the normalized angle.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacego__to__point__action_ab3bc8cf3239eaa0def69f3a87a98976c}\label{namespacego__to__point__action_ab3bc8cf3239eaa0def69f3a87a98976c}} 
\index{go\_to\_point\_action@{go\_to\_point\_action}!planning@{planning}}
\index{planning@{planning}!go\_to\_point\_action@{go\_to\_point\_action}}
\doxysubsubsection{\texorpdfstring{planning()}{planning()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point\+\_\+action.\+planning (\begin{DoxyParamCaption}\item[{}]{goal }\end{DoxyParamCaption})}



The planning function. 

It is the action callback. The script will remain inside this function, due to the while loop. Here it will wait for new goal, ask the robot to reach them and delete goal if required. The state will also be updated 
\begin{DoxyParams}{Parameters}
{\em goal} & It is the goal required in the action server \begin{DoxyVerb}It is the action callback. The script will remain inside this function, due to the while loop.
Here it will wait for new goal, ask the robot to reach them and delete goal if required. The state will also be updated

Args:
    goal(rt2_ass2.msg.go_to_pointActionGoal): goal of the robot
Returns: none
\end{DoxyVerb}
 \\
\hline
\end{DoxyParams}
